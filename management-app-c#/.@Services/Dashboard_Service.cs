using ngx_docs_managment_application._Forms;
using ngx_docs_managment_application._Services;
using System;
using System.IO;
using System.Text;
using System.Windows.Forms;

namespace ngx_docs_managment_application._Controllers
{
    class Dashboard_Service
    {
        readonly Settings_Service settings = new Settings_Service();


        /// <summary>
        /// Verify that folder path is set and exists
        /// </summary>
        /// <returns>True if folder exists false if folder does not exist</returns>
        public bool VerifyProjectFolder()
        {
            try
            {


                string folder_path = settings.getSetting("project_path");

                if (string.IsNullOrEmpty(folder_path)) { return false; }

                if (string.IsNullOrWhiteSpace(folder_path)) { return false; }

                if (!Directory.Exists(folder_path)) { return false; }

                if(!File.Exists(folder_path + "\\package.json")){ return false; }

                Logger_Service.Add("DASHBOARD_SERVICE|VerifyProjectFolder", "Folder verified!");

                return true;
            }
            catch (Exception e)
            {
                Logger_Service.Add("DASHBOARD_SERVICE|VerifyProjectFolder", e.Message);
                return false;
            }
        }

        /// <summary>
        /// Function to generate sample input.json
        /// </summary>
        public void GenerateSampleInput()
        {
            if (!confirmation("Overwrite input.json?")) { return; }
            string folder_path = settings.getSetting("project_path");
            string sample_file = "WwogIHsKICAgICJUaXRsZSI6ICJXaGF0IGlzIExvcmVtIElwc3VtPyIsCiAgICAiRGVzY3JpcHRpb24iOiAiTG9yZW0gSXBzdW0gaXMgc2ltcGx5IGR1bW15IHRleHQgb2YgdGhlIHByaW50aW5nIGFuZCB0eXBlc2V0dGluZyBpbmR1c3RyeS4iLAogICAgInRleHQiOiAiTG9yZW0gSXBzdW0gaGFzIGJlZW4gdGhlIGluZHVzdHJ5J3Mgc3RhbmRhcmQgZHVtbXkgdGV4dCBldmVyIHNpbmNlIHRoZSAxNTAwcywiLAogICAgImltYWdlIjogImFzc2V0cy9pbWFnZXMvZGVmYXVsdC5wbmciLAogICAgIml0ZW1zIjogWwogICAgICAiIEl0IHdhcyBwb3B1bGFyaXNlZCBpbiB0aGUgMTk2MHMgd2l0aCB0aGUgcmVsZWFzZSBvZiBMZXRyYXNldCBzaGVldHMgY29udGFpbmluZyBMb3JlbSBJcHN1bSBwYXNzYWdlcywgYW5kIG1vcmUgcmVjZW50bHkgd2l0aCBkZXNrdG9wIHB1Ymxpc2hpbmcgc29mdHdhcmUgbGlrZSBBbGR1cyBQYWdlTWFrZXIgaW5jbHVkaW5nIHZlcnNpb25zIG9mIExvcmVtIElwc3VtLiIKICAgIF0sCiAgICAidGFncyI6IFsKICAgICAgImxvcmVtIiwKICAgICAgImlwc3VtIgogICAgXSwKICAgICJ1cmwiOiAiaHR0cHM6Ly93d3cubGlwc3VtLmNvbS8iCiAgfSwKICB7CiAgICAiVGl0bGUiOiAiV2hlcmUgZG9lcyBpdCBjb21lIGZyb20/IiwKICAgICJEZXNjcmlwdGlvbiI6ICJcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQsIHNlZCBkbyBlaXVzbW9kIHRlbXBvciBpbmNpZGlkdW50IHV0IGxhYm9yZSBldCBkb2xvcmUgbWFnbmEgYWxpcXVhLiBVdCBlbmltIGFkIG1pbmltIHZlbmlhbSwgcXVpcyBub3N0cnVkIGV4ZXJjaXRhdGlvbiB1bGxhbWNvIGxhYm9yaXMgbmlzaSB1dCBhbGlxdWlwIGV4IGVhIGNvbW1vZG8gY29uc2VxdWF0LiBEdWlzIGF1dGUgaXJ1cmUgZG9sb3IgaW4gcmVwcmVoZW5kZXJpdCBpbiB2b2x1cHRhdGUgdmVsaXQgZXNzZSBjaWxsdW0gZG9sb3JlIGV1IGZ1Z2lhdCBudWxsYSBwYXJpYXR1ci4gRXhjZXB0ZXVyIHNpbnQgb2NjYWVjYXQgY3VwaWRhdGF0IG5vbiBwcm9pZGVudCwgc3VudCBpbiBjdWxwYSBxdWkgb2ZmaWNpYSBkZXNlcnVudCBtb2xsaXQgYW5pbSBpZCBlc3QgbGFib3J1bS5cIiIsCiAgICAidGV4dCI6ICJcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQsIHNlZCBkbyBlaXVzbW9kIHRlbXBvciBpbmNpZGlkdW50IHV0IGxhYm9yZSBldCBkb2xvcmUgbWFnbmEgYWxpcXVhLiBVdCBlbmltIGFkIG1pbmltIHZlbmlhbSwgcXVpcyBub3N0cnVkIGV4ZXJjaXRhdGlvbiB1bGxhbWNvIGxhYm9yaXMgbmlzaSB1dCBhbGlxdWlwIGV4IGVhIGNvbW1vZG8gY29uc2VxdWF0LiBEdWlzIGF1dGUgaXJ1cmUgZG9sb3IgaW4gcmVwcmVoZW5kZXJpdCBpbiB2b2x1cHRhdGUgdmVsaXQgZXNzZSBjaWxsdW0gZG9sb3JlIGV1IGZ1Z2lhdCBudWxsYSBwYXJpYXR1ci4gRXhjZXB0ZXVyIHNpbnQgb2NjYWVjYXQgY3VwaWRhdGF0IG5vbiBwcm9pZGVudCwgc3VudCBpbiBjdWxwYSBxdWkgb2ZmaWNpYSBkZXNlcnVudCBtb2xsaXQgYW5pbSBpZCBlc3QgbGFib3J1bS5cIiIsCiAgICAiaW1hZ2UiOiAiYXNzZXRzL2ltYWdlcy9kZWZhdWx0LnBuZyIsCiAgICAiaXRlbXMiOiBbCiAgICAgICJBdCB2ZXJvIGVvcyBldCBhY2N1c2FtdXMgZXQgaXVzdG8gb2RpbyBkaWduaXNzaW1vcyBkdWNpbXVzIHF1aSBibGFuZGl0aWlzIHByYWVzZW50aXVtIHZvbHVwdGF0dW0gZGVsZW5pdGkgYXRxdWUgY29ycnVwdGkgcXVvcyBkb2xvcmVzIGV0IHF1YXMgbW9sZXN0aWFzIGV4Y2VwdHVyaSBzaW50IG9jY2FlY2F0aSBjdXBpZGl0YXRlIG5vbiBwcm92aWRlbnQsIHNpbWlsaXF1ZSBzdW50IGluIGN1bHBhIHF1aSBvZmZpY2lhIGRlc2VydW50IG1vbGxpdGlhIGFuaW1pLCBpZCBlc3QgbGFib3J1bSBldCBkb2xvcnVtIGZ1Z2EuIEV0IGhhcnVtIHF1aWRlbSByZXJ1bSBmYWNpbGlzIGVzdCBldCBleHBlZGl0YSBkaXN0aW5jdGlvLiBOYW0gbGliZXJvIHRlbXBvcmUsIGN1bSBzb2x1dGEgbm9iaXMgZXN0IGVsaWdlbmRpIG9wdGlvIGN1bXF1ZSBuaWhpbCBpbXBlZGl0IHF1byBtaW51cyBpZCBxdW9kIG1heGltZSBwbGFjZWF0IGZhY2VyZSBwb3NzaW11cywgb21uaXMgdm9sdXB0YXMgYXNzdW1lbmRhIGVzdCwgb21uaXMgZG9sb3IgcmVwZWxsZW5kdXMuIFRlbXBvcmlidXMgYXV0ZW0gcXVpYnVzZGFtIGV0IGF1dCBvZmZpY2lpcyBkZWJpdGlzIGF1dCByZXJ1bSBuZWNlc3NpdGF0aWJ1cyBzYWVwZSBldmVuaWV0IHV0IGV0IHZvbHVwdGF0ZXMgcmVwdWRpYW5kYWUgc2ludCBldCBtb2xlc3RpYWUgbm9uIHJlY3VzYW5kYWUuIEl0YXF1ZSBlYXJ1bSByZXJ1bSBoaWMgdGVuZXR1ciBhIHNhcGllbnRlIGRlbGVjdHVzLCB1dCBhdXQgcmVpY2llbmRpcyB2b2x1cHRhdGlidXMgbWFpb3JlcyBhbGlhcyBjb25zZXF1YXR1ciBhdXQgcGVyZmVyZW5kaXMgZG9sb3JpYnVzIGFzcGVyaW9yZXMgcmVwZWxsYXQuXCIiCiAgICBdLAogICAgInVybCI6ICJodHRwczovL3d3dy5saXBzdW0uY29tLyIKICB9LAogIHsKICAgICJUaXRsZSI6ICJXaGVyZSBkb2VzIGl0IGNvbWUgZnJvbT8iLAogICAgIkRlc2NyaXB0aW9uIjogIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQuIEZ1c2NlIG1hdXJpcyBtYXVyaXMsIG1vbGxpcyBub24gZXJvcyBuZWMsIHJ1dHJ1bSB2dWxwdXRhdGUgbGlndWxhLiBOdWxsYSBoZW5kcmVyaXQgZHVpIHZpdGFlIG1vbGxpcyBzY2VsZXJpc3F1ZS4gUHJvaW4gZWxlaWZlbmQgbGlndWxhIGV1IHNjZWxlcmlzcXVlIHNhZ2l0dGlzLiBDcmFzIGV1IGNvbnZhbGxpcyBuaXNsLCBhdCBsdWN0dXMgZXN0LiBEb25lYyBhdWN0b3IgdmVsaXQgcXVpcyBkaWFtIG1vbGxpcyBtYWxlc3VhZGEuIE51bGxhIG1vbGxpcyB2aXZlcnJhIGVyb3MsIG5lYyBsYW9yZWV0IG5pc2kgdnVscHV0YXRlIHF1aXMuIE1hZWNlbmFzIHB1bHZpbmFyIHJpc3VzIG5lYyBkdWkgcGVsbGVudGVzcXVlIHNvZGFsZXMuIEludGVnZXIgYWMgZnJpbmdpbGxhIHB1cnVzLCBhYyBtYWxlc3VhZGEgaXBzdW0uIERvbmVjIGJpYmVuZHVtIHZ1bHB1dGF0ZSBtYXVyaXMgaWQgZWxlaWZlbmQuIFZpdmFtdXMgZXN0IGR1aSwgcHVsdmluYXIgZWdldCB2ZW5lbmF0aXMgdml0YWUsIHRpbmNpZHVudCBub24gcmlzdXMuIFNlZCB2ZWwgZnJpbmdpbGxhIGRvbG9yLCB2aXRhZSBhY2N1bXNhbiBzYXBpZW4uICIsCiAgICAidGV4dCI6ICJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LiBGdXNjZSBtYXVyaXMgbWF1cmlzLCBtb2xsaXMgbm9uIGVyb3MgbmVjLCBydXRydW0gdnVscHV0YXRlIGxpZ3VsYS4gTnVsbGEgaGVuZHJlcml0IGR1aSB2aXRhZSBtb2xsaXMgc2NlbGVyaXNxdWUuIFByb2luIGVsZWlmZW5kIGxpZ3VsYSBldSBzY2VsZXJpc3F1ZSBzYWdpdHRpcy4gQ3JhcyBldSBjb252YWxsaXMgbmlzbCwgYXQgbHVjdHVzIGVzdC4gRG9uZWMgYXVjdG9yIHZlbGl0IHF1aXMgZGlhbSBtb2xsaXMgbWFsZXN1YWRhLiBOdWxsYSBtb2xsaXMgdml2ZXJyYSBlcm9zLCBuZWMgbGFvcmVldCBuaXNpIHZ1bHB1dGF0ZSBxdWlzLiBNYWVjZW5hcyBwdWx2aW5hciByaXN1cyBuZWMgZHVpIHBlbGxlbnRlc3F1ZSBzb2RhbGVzLiBJbnRlZ2VyIGFjIGZyaW5naWxsYSBwdXJ1cywgYWMgbWFsZXN1YWRhIGlwc3VtLiBEb25lYyBiaWJlbmR1bSB2dWxwdXRhdGUgbWF1cmlzIGlkIGVsZWlmZW5kLiBWaXZhbXVzIGVzdCBkdWksIHB1bHZpbmFyIGVnZXQgdmVuZW5hdGlzIHZpdGFlLCB0aW5jaWR1bnQgbm9uIHJpc3VzLiBTZWQgdmVsIGZyaW5naWxsYSBkb2xvciwgdml0YWUgYWNjdW1zYW4gc2FwaWVuLiBOYW0gbWFsZXN1YWRhIGVyb3MgZWdldCBzYXBpZW4gYmliZW5kdW0sIGVnZXQgY29udmFsbGlzIHRvcnRvciBoZW5kcmVyaXQuIE1hdXJpcyBhdWN0b3IgcmlzdXMgYSBkaWFtIHZlbmVuYXRpcywgYWMgYmxhbmRpdCBleCBzdXNjaXBpdC4gTnVsbGEgaW50ZXJkdW0gZW5pbSBsZWN0dXMsIHNvbGxpY2l0dWRpbiBtYXR0aXMgbWFnbmEgdnVscHV0YXRlIHF1aXMuIiwKICAgICJpbWFnZSI6ICJhc3NldHMvaW1hZ2VzL2RlZmF1bHQucG5nIiwKICAgICJpdGVtcyI6IFsKICAgICAgIlBlbGxlbnRlc3F1ZSBxdWlzIG1vbGVzdGllIG1hZ25hLiBTZWQgZmV1Z2lhdCBzZW0gdmVoaWN1bGEgcmlzdXMgZWxlbWVudHVtIGN1cnN1cy4gRHVpcyBxdWlzIGF1Z3VlIGlkIGxhY3VzIHN1c2NpcGl0IGZldWdpYXQgZWdldCBxdWlzIGRvbG9yLiBOdWxsYW0gZmVybWVudHVtIHNhZ2l0dGlzIHR1cnBpcywgYWxpcXVldCB1bGxhbWNvcnBlciBtZXR1cyBpbnRlcmR1bSB2aXRhZS4gRnVzY2UgYW50ZSBsaWd1bGEsIHRyaXN0aXF1ZSBxdWlzIG9yY2kgYXQsIHZlc3RpYnVsdW0gY29uc2VxdWF0IG1hZ25hLiBQaGFzZWxsdXMgaGVuZHJlcml0IGFudGUgY29udmFsbGlzIG1pIGZhdWNpYnVzIHZlc3RpYnVsdW0uIFByYWVzZW50IGlhY3VsaXMgbmliaCBhcmN1LCBldCBjb25zZWN0ZXR1ciBpcHN1bSBwb3J0dGl0b3IgYS4gRHVpcyB1bHRyaWNpZXMgYW50ZSBhIGVzdCB2aXZlcnJhIGltcGVyZGlldC4gTnVsbGEgZmFjaWxpc2kuIgogICAgXSwKICAgICJ0YWdzIjogWwogICAgICAiZnVuIiwKICAgICAgImVhc3kiCiAgICBdLAogICAgInVybCI6ICJodHRwczovL3d3dy5saXBzdW0uY29tLyIKICB9LAogIHsKICAgICJUaXRsZSI6ICJMb3JlbSIsCiAgICAiRGVzY3JpcHRpb24iOiAiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdC4gQWxpcXVhbSBhIHJob25jdXMgbGVjdHVzLCBldCBjb25kaW1lbnR1bSBkb2xvci4gRXRpYW0gcXVpcyBkaWFtIG5pc2wuIEFlbmVhbiBzb2RhbGVzIHZlc3RpYnVsdW0gZXgsIGV0IHNhZ2l0dGlzIHVybmEgcHJldGl1bSBldS4gTnVuYyB2aXRhZSBoZW5kcmVyaXQgbmliaC4gRG9uZWMgdm9sdXRwYXQsIGFudGUgaW4gc2FnaXR0aXMgY29udmFsbGlzLCBtYXNzYSBsaWJlcm8gYXVjdG9yICIsCiAgICAidGV4dCI6ICJmZWxpcywgbm9uIGVnZXN0YXMgbGlndWxhIHVybmEgaWQgbWFzc2EuIE5hbSByaG9uY3VzLCByaXN1cyBhYyBzdXNjaXBpdCBhbGlxdWV0LCBhdWd1ZSBlbGl0IGNvbmd1ZSBsZW8sIGVnZXQgY29tbW9kbyBkdWkgdmVsaXQgdml0YWUgbGFjdXMuIFN1c3BlbmRpc3NlIGFjIGVsZW1lbnR1bSBqdXN0by4iLAogICAgImltYWdlIjogImFzc2V0cy9pbWFnZXMvZGVmYXVsdC5wbmciLAogICAgIml0ZW1zIjogWwogICAgICAiU2VkIHN1c2NpcGl0IHR1cnBpcyBpbiBsdWN0dXMgY29udmFsbGlzLiBQcmFlc2VudCBncmF2aWRhIGRvbG9yIHF1aXMgZG9sb3IgaW1wZXJkaWV0IHBoYXJldHJhLiBQZWxsZW50ZXNxdWUgaGFiaXRhbnQgbW9yYmkgdHJpc3RpcXVlIHNlbmVjdHVzIGV0IG5ldHVzIGV0IG1hbGVzdWFkYSBmYW1lcyBhYyB0dXJwaXMgZWdlc3Rhcy4gVml2YW11cyBtYXhpbXVzIHB1cnVzIGRpZ25pc3NpbSwgZmF1Y2lidXMgbGliZXJvIGV0LCB1bGxhbWNvcnBlciBxdWFtLiBTdXNwZW5kaXNzZSBsYW9yZWV0IGp1c3RvIHNpdCBhbWV0IHRvcnRvciBhdWN0b3IgdGluY2lkdW50LiBJbnRlZ2VyIGV0IGFyY3UgYWxpcXVhbSwgbW9sZXN0aWUganVzdG8gc2l0IGFtZXQsIGFjY3Vtc2FuIG51bmMuIFN1c3BlbmRpc3NlIHBvdGVudGkuIEN1cmFiaXR1ciBwZWxsZW50ZXNxdWUgY29uZGltZW50dW0gZXJhdCwgaW4gZXVpc21vZCBtYXVyaXMgdHJpc3RpcXVlIHNlZC4gU2VkIHRlbXB1cyByaXN1cyBhdCB0b3J0b3IgZnJpbmdpbGxhIHZhcml1cy4gUHJhZXNlbnQgbG9ib3J0aXMgZG9sb3IgbmVxdWUsIGFjIGFsaXF1YW0gZXJhdCBtYWxlc3VhZGEgc2VkLiBQcmFlc2VudCB2YXJpdXMgY29uc2VjdGV0dXIgZW5pbSBpZCBsYW9yZWV0LiBOdWxsYW0gZXUgdGluY2lkdW50IG9kaW8sIHZpdGFlIGNvbnNlcXVhdCBvcmNpLiBTdXNwZW5kaXNzZSBwb3J0YSBtYXR0aXMgc2FwaWVuIGluIHB1bHZpbmFyLiIKICAgIF0sCiAgICAidGFncyI6IFsKICAgICAgImtleXMiLAogICAgICAiZm9vZCIKICAgIF0sCiAgICAidXJsIjogImh0dHBzOi8vd3d3LmxpcHN1bS5jb20vIiwKICAgICJhbGJ1bSI6IFsKICAgICAgImFzc2V0cy9pbWFnZXMvZGVmYXVsdC5wbmciLAogICAgICAiYXNzZXRzL2ltYWdlcy9kZWZhdWx0LnBuZyIKICAgIF0KICB9LAogIHsKICAgICJUaXRsZSI6ICJJcHN1bSIsCiAgICAiRGVzY3JpcHRpb24iOiAiUGhhc2VsbHVzIGZpbmlidXMgcHVsdmluYXIgdmVuZW5hdGlzLiBJbiBzb2xsaWNpdHVkaW4gdmVzdGlidWx1bSBjb25ndWUuIE1hZWNlbmFzIG1hc3NhIHJpc3VzLCBmcmluZ2lsbGEgbm9uIGVyYXQgcXVpcywgdGluY2lkdW50IGZldWdpYXQgc2VtLiBDdXJhYml0dXIgYWxpcXVhbSB1cm5hIHZpdGFlIG51bmMgcG9zdWVyZSBwb3J0YS4gSW4gbm9uIHBoYXJldHJhIHNhcGllbi4gRXRpYW0gYXQgZWZmaWNpdHVyIG5pc2kuIFByb2luIHNhZ2l0dGlzLCBuaXNsIGV0IGRpY3R1bSBlZ2VzdGFzLCBlbmltIGVuaW0gZmVybWVudHVtIHRvcnRvciwgaWQgc2NlbGVyaXNxdWUgbWFnbmEgbmVxdWUgc2l0IGFtZXQgdGVsbHVzLiBGdXNjZSBpYWN1bGlzIGVyYXQgZWdldCBkaWFtIGdyYXZpZGEsIHF1aXMgZmFjaWxpc2lzIGxpYmVybyB2YXJpdXMuIE51bGxhbSBlbmltIHF1YW0sIHB1bHZpbmFyIGV1IHZlaGljdWxhIHJ1dHJ1bSwgdnVscHV0YXRlIHZlbCBzZW0uIE51bmMgZXUgZG9sb3IgZWdlc3RhcywgZWxlaWZlbmQganVzdG8gbm9uLCBwb3J0YSBzZW0uIER1aXMgbmliaCBsaWJlcm8sIHZpdmVycmEgYSByaXN1cyBlZ2V0LCBkaWduaXNzaW0gcmhvbmN1cyBtYWduYS4gTW9yYmkgbWFsZXN1YWRhIGV4IGVnZXQgZGlhbSBjb25ndWUsIG5vbiBmcmluZ2lsbGEgbWV0dXMgdWx0cmljaWVzLiBDdXJhYml0dXIgbGFjdXMgZmVsaXMsIGFsaXF1ZXQgbm9uIGVnZXN0YXMgYWMsIGZhdWNpYnVzIG5vbiBleC4gRG9uZWMgbW9sbGlzIGV1IGFudGUgZXUgdmVoaWN1bGEuIiwKICAgICJ0ZXh0IjogIlBoYXNlbGx1cyBmaW5pYnVzIHB1bHZpbmFyIHZlbmVuYXRpcy4gSW4gc29sbGljaXR1ZGluIHZlc3RpYnVsdW0gY29uZ3VlLiBNYWVjZW5hcyBtYXNzYSByaXN1cywgZnJpbmdpbGxhIG5vbiBlcmF0IHF1aXMsIHRpbmNpZHVudCBmZXVnaWF0IHNlbS4gQ3VyYWJpdHVyIGFsaXF1YW0gdXJuYSB2aXRhZSBudW5jIHBvc3VlcmUgcG9ydGEuIEluIG5vbiBwaGFyZXRyYSBzYXBpZW4uIEV0aWFtIGF0IGVmZmljaXR1ciBuaXNpLiBQcm9pbiBzYWdpdHRpcywgbmlzbCBldCBkaWN0dW0gZWdlc3RhcywgZW5pbSBlbmltIGZlcm1lbnR1bSB0b3J0b3IsIGlkIHNjZWxlcmlzcXVlIG1hZ25hIG5lcXVlIHNpdCBhbWV0IHRlbGx1cy4gRnVzY2UgaWFjdWxpcyBlcmF0IGVnZXQgZGlhbSBncmF2aWRhLCBxdWlzIGZhY2lsaXNpcyBsaWJlcm8gdmFyaXVzLiBOdWxsYW0gZW5pbSBxdWFtLCBwdWx2aW5hciBldSB2ZWhpY3VsYSBydXRydW0sIHZ1bHB1dGF0ZSB2ZWwgc2VtLiBOdW5jIGV1IGRvbG9yIGVnZXN0YXMsIGVsZWlmZW5kIGp1c3RvIG5vbiwgcG9ydGEgc2VtLiBEdWlzIG5pYmggbGliZXJvLCB2aXZlcnJhIGEgcmlzdXMgZWdldCwgZGlnbmlzc2ltIHJob25jdXMgbWFnbmEuIE1vcmJpIG1hbGVzdWFkYSBleCBlZ2V0IGRpYW0gY29uZ3VlLCBub24gZnJpbmciLAogICAgImltYWdlIjogImFzc2V0cy9pbWFnZXMvZGVmYXVsdC5wbmciLAogICAgIml0ZW1zIjogWwogICAgICAiRnVzY2UgdWx0cmljZXMgZG9sb3IgaWQgbGFvcmVldCBpYWN1bGlzLiBJbnRlZ2VyIHZpdGFlIHRlbGx1cyBtb2xlc3RpZSwgZGljdHVtIGRpYW0gdml0YWUsIGlhY3VsaXMgbGlndWxhLiBTdXNwZW5kaXNzZSB2ZWwgdmVoaWN1bGEgZmVsaXMsIGV0IHZpdmVycmEgbWFzc2EuIE5hbSB0ZW1wdXMgc3VzY2lwaXQgYW50ZSBpbiBibGFuZGl0LiBEb25lYyB2aXZlcnJhIGRpYW0gYSBmZWxpcyB0cmlzdGlxdWUgbW9sbGlzLiBNYWVjZW5hcyBkaWN0dW0gc2l0IGFtZXQgc2FwaWVuIGN1cnN1cyBjb25ndWUuIFN1c3BlbmRpc3NlIGV1IHRlbGx1cyBuZWMgb3JjaSB2YXJpdXMgcG9zdWVyZS4gVmVzdGlidWx1bSBldSBjb25kaW1lbnR1bSBtYWduYS4gRHVpcyBlZmZpY2l0dXIgbWF1cmlzIHF1aXMgY29uc2VxdWF0IG9ybmFyZS4gUGVsbGVudGVzcXVlIHBoYXJldHJhIGxlY3R1cyBub24gbWF4aW11cyBhY2N1bXNhbi4gU3VzcGVuZGlzc2UgcXVhbSBvZGlvLCBtYXR0aXMgbm9uIG1pIGFjLCBkYXBpYnVzIHVsdHJpY2llcyBhdWd1ZS4gUHJhZXNlbnQgc2FnaXR0aXMgdWx0cmljaWVzIGZlbGlzLCBpZCBzb2xsaWNpdHVkaW4gdHVycGlzIHZhcml1cyBpbi4gTW9yYmkgYXQgc2NlbGVyaXNxdWUgbGVjdHVzLiBEb25lYyBmaW5pYnVzLCBxdWFtIGEgZGlnbmlzc2ltIHZlaGljdWxhLCBleCBudW5jIGdyYXZpZGEgbWFzc2EsIG5lYyBzb2xsaWNpdHVkaW4gZXJhdCBpcHN1bSBvcm5hcmUgbWFnbmEuIFBoYXNlbGx1cyBsdWN0dXMgbmlzaSBzZWQgYXVndWUgY29uc2VjdGV0dXIsIGJpYmVuZHVtIHBvcnRhIHRvcnRvciBwcmV0aXVtLlxyXG5cclxuIgogICAgXSwKICAgICJ1cmwiOiAiaHR0cHM6Ly93d3cubGlwc3VtLmNvbS8iCiAgfSwKICB7CiAgICAiVGl0bGUiOiAiXCJOZXF1ZSBwb3JybyBxdWlzcXVhbSBlc3QgcXVpIGRvbG9yZW0gaXBzdW0gcXVpYSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIsIGFkaXBpc2NpIHZlbGl0Li4uXCIiLAogICAgIkRlc2NyaXB0aW9uIjogIlwiVGhlcmUgaXMgbm8gb25lIHdobyBsb3ZlcyBwYWluIGl0c2VsZiwgd2hvIHNlZWtzIGFmdGVyIGl0IGFuZCB3YW50cyB0byBoYXZlIGl0LCBzaW1wbHkgYmVjYXVzZSBpdCBpcyBwYWluLi4uXCJcclxuIiwKICAgICJ0ZXh0IjogIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQuIEFsaXF1YW0gYSByaG9uY3VzIGxlY3R1cywgZXQgY29uZGltZW50dW0gZG9sb3IuIEV0aWFtIHF1aXMgZGlhbSBuaXNsLiBBZW5lYW4gc29kYWxlcyB2ZXN0aWJ1bHVtIGV4LCBldCBzYWdpdHRpcyB1cm5hIHByZXRpdW0gZXUuIE51bmMgdml0YWUgaGVuZHJlcml0IG5pYmguIERvbmVjIHZvbHV0cGF0LCBhbnRlIGluIHNhZ2l0dGlzIGNvbnZhbGxpcywgbWFzc2EgbGliZXJvIGF1Y3RvciBmZWxpcywgbm9uIGVnZXN0YXMgbGlndWxhIHVybmEgaWQgbWFzc2EuIE5hbSByaG9uY3VzLCByaXN1cyBhYyBzdXNjaXBpdCBhbGlxdWV0LCBhdWd1ZSBlbGl0IGNvbmd1ZSBsZW8sIGVnZXQgY29tbW9kbyBkdWkgdmVsaXQgdml0YWUgbGFjdXMuIFN1c3BlbmRpc3NlIGFjIGVsZW1lbnR1bSBqdXN0by4iLAogICAgImltYWdlIjogImFzc2V0cy9pbWFnZXMvZGVmYXVsdC5wbmciLAogICAgIml0ZW1zIjogWwogICAgICAiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdC4gQWxpcXVhbSBhIHJob25jdXMgbGVjdHVzLCBldCBjb25kaW1lbnR1bSBkb2xvci4gRXRpYW0gcXVpcyBkaWFtIG5pc2wuIEFlbmVhbiBzb2RhbGVzIHZlc3RpYnVsdW0gZXgsIGV0IHNhZ2l0dGlzIHVybmEgcHJldGl1bSBldS4gTnVuYyB2aXRhZSBoZW5kcmVyaXQgbmliaC4gRG9uZWMgdm9sdXRwYXQsIGFudGUgaW4gc2FnaXR0aXMgY29udmFsbGlzLCBtYXNzYSBsaWJlcm8gYXVjdG9yIGZlbGlzLCBub24gZWdlc3RhcyBsaWd1bGEgdXJuYSBpZCBtYXNzYS4gTmFtIHJob25jdXMsIHJpc3VzIGFjIHN1c2NpcGl0IGFsaXF1ZXQsIGF1Z3VlIGVsaXQgY29uZ3VlIGxlbywgZWdldCBjb21tb2RvIGR1aSB2ZWxpdCB2aXRhZSBsYWN1cy4gU3VzcGVuZGlzc2UgYWMgZWxlbWVudHVtIGp1c3RvLiIKICAgIF0sCiAgICAidXJsIjogImh0dHBzOi8vd3d3LmxpcHN1bS5jb20vIiwKICAgICJhbGJ1bSI6IFsKICAgICAgImFzc2V0cy9pbWFnZXMvZGVmYXVsdC5wbmciLAogICAgICAiYXNzZXRzL2ltYWdlcy9kZWZhdWx0LnBuZyIsCiAgICAgICJhc3NldHMvaW1hZ2VzL2RlZmF1bHQucG5nIiwKICAgICAgImFzc2V0cy9pbWFnZXMvZGVmYXVsdC5wbmciLAogICAgICAiYXNzZXRzL2ltYWdlcy9kZWZhdWx0LnBuZyIsCiAgICAgICJhc3NldHMvaW1hZ2VzL2RlZmF1bHQucG5nIiwKICAgICAgImFzc2V0cy9pbWFnZXMvZGVmYXVsdC5wbmciLAogICAgICAiYXNzZXRzL2ltYWdlcy9kZWZhdWx0LnBuZyIKICAgIF0KICB9LAogIHsKICAgICJUaXRsZSI6ICJ3aG8gbG92ZXMgcGFpbiAiLAogICAgIkRlc2NyaXB0aW9uIjogIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQuIEN1cmFiaXR1ciB2dWxwdXRhdGUgdmVsaXQgc2VkIGFyY3UgdGVtcHVzIHZhcml1cy4gVml2YW11cyBwdWx2aW5hciBmZWxpcyBhIGltcGVyZGlldCBwb3J0dGl0b3IuIE5hbSBncmF2aWRhIGFyY3UgZmVsaXMsIHZpdGFlIHRyaXN0aXF1ZSBsYWN1cyBzYWdpdHRpcyB2aXRhZS4gU3VzcGVuZGlzc2UgdGluY2lkdW50LCBxdWFtIGluIGludGVyZHVtIGRpY3R1bSwgZHVpIGxhY3VzIGVsZWlmZW5kIGFyY3UsIGJpYmVuZHVtIGltcGVyZGlldCBlcm9zIGxlY3R1cyB2ZWwgZmVsaXMuIE1hZWNlbmFzIG1heGltdXMgYW50ZSBxdWlzIG1hZ25hIGhlbmRyZXJpdCB2YXJpdXMuIER1aXMgZGljdHVtIGxvYm9ydGlzIGVsaXQsIGVnZXQgcGVsbGVudGVzcXVlIG1hdXJpcyBmZXVnaWF0IHNlZC4gU2VkIG1hdXJpcyBxdWFtLCBydXRydW0gZWdldCBjb21tb2RvIGF0LCBwcmV0aXVtIGVnZXQgaXBzdW0uIE51bGxhbSBwcmV0aXVtIHF1YW0gbm9uIGxvcmVtIGZyaW5naWxsYSBpYWN1bGlzLiBNYXVyaXMgbW9sbGlzIGltcGVyZGlldCBwcmV0aXVtLiBBbGlxdWFtIHZlbCB2ZXN0aWJ1bHVtIGlwc3VtLiBEdWlzIG5vbiB1bGxhbWNvcnBlciBqdXN0by4iLAogICAgInRleHQiOiAiVmVzdGlidWx1bSBmZXVnaWF0IGRpZ25pc3NpbSBvcmNpIHF1aXMgc29sbGljaXR1ZGluLiBRdWlzcXVlIHRpbmNpZHVudCBlZ2V0IHR1cnBpcyBpbiBiaWJlbmR1bS4gVXQgaW1wZXJkaWV0IHR1cnBpcyB1dCBkYXBpYnVzIHVsdHJpY2VzLiBOdWxsYSB2ZW5lbmF0aXMsIHRvcnRvciBxdWlzIHJob25jdXMgYWNjdW1zYW4sIHR1cnBpcyBudWxsYSBhbGlxdWFtIGp1c3RvLCBhYyBmZXJtZW50dW0gb2RpbyBkaWFtIHZpdGFlIHR1cnBpcy4gU2VkIHZlbCBmcmluZ2lsbGEgbGVvLiBGdXNjZSBpYWN1bGlzIG5pc2wgaW4gbmlzbCBzb2RhbGVzIGJsYW5kaXQuIE51bmMgYmliZW5kdW0gYSBlcmF0IHF1aXMgbGFvcmVldC4gQ3VyYWJpdHVyIGF1Y3RvciB1bHRyaWNpZXMgZmVsaXMsIHNvZGFsZXMgcGVsbGVudGVzcXVlIG5pc2kgIiwKICAgICJpbWFnZSI6ICJhc3NldHMvaW1hZ2VzL2RlZmF1bHQucG5nIiwKICAgICJpdGVtcyI6IFsKICAgICAgIlZlc3RpYnVsdW0gZmV1Z2lhdCBkaWduaXNzaW0gb3JjaSBxdWlzIHNvbGxpY2l0dWRpbi4gUXVpc3F1ZSB0aW5jaWR1bnQgZWdldCB0dXJwaXMgaW4gYmliZW5kdW0uIFV0IGltcGVyZGlldCB0dXJwaXMgdXQgZGFwaWJ1cyB1bHRyaWNlcy4gTnVsbGEgdmVuZW5hdGlzLCB0b3J0b3IgcXVpcyByaG9uY3VzIGFjY3Vtc2FuLCB0dXJwaXMgbnVsbGEgYWxpcXVhbSBqdXN0bywgYWMgZmVybWVudHVtIG9kaW8gZGlhbSB2aXRhZSB0dXJwaXMuIFNlZCB2ZWwgZnJpbmdpbGxhIGxlby4gRnVzY2UgaWFjdWxpcyBuaXNsIGluIG5pc2wgc29kYWxlcyBibGFuZGl0LiBOdW5jIGJpYmVuZHVtIGEgZXJhdCBxdWlzIGxhb3JlZXQuIEN1cmFiaXR1ciBhdWN0b3IgdWx0cmljaWVzIGZlbGlzLCBzb2RhbGVzIHBlbGxlbnRlc3F1ZSBuaXNpIGNvbmd1ZSBxdWlzLiBNb3JiaSBjdXJzdXMgdmVsaXQgZXQgb3JjaSB1bHRyaWNlcyB1bHRyaWNlcy4gTWFlY2VuYXMgZGlnbmlzc2ltIGRpY3R1bSBleC5cclxuXHJcbiIKICAgIF0sCiAgICAidGFncyI6IFsKICAgICAgIjEiLAogICAgICAiMiIsCiAgICAgICIzIiwKICAgICAgIjQiCiAgICBdLAogICAgInVybCI6ICJodHRwczovL3d3dy5saXBzdW0uY29tLyIKICB9LAogIHsKICAgICJUaXRsZSI6ICJHZW5lcmF0ZWQgNSBwYXJhZ3JhcGhzLCA0NDYgd29yZHMsIDMwMTUgYnl0ZXMgb2YgTG9yZW0gSXBzdW0iLAogICAgIkRlc2NyaXB0aW9uIjogIk1hdXJpcyBsYWNpbmlhLCBzZW0gdXQgdGVtcG9yICIsCiAgICAidGV4dCI6ICJNYXVyaXMgbGFjaW5pYSwgc2VtIHV0IHRlbXBvciBzb2RhbGVzLCBtaSBsZW8gdnVscHV0YXRlIG5lcXVlLCB1dCBjdXJzdXMgbWFzc2EgcXVhbSB2aXRhZSBkdWkuIFZlc3RpYnVsdW0gbmVjIGVyYXQgcmlzdXMuIFByYWVzZW50IGdyYXZpZGEgY29udmFsbGlzIGludGVyZHVtLiBJbiBldCBhdWN0b3Igb2Rpby4gRG9uZWMgYmliZW5kdW0sIGZlbGlzIGEgcGhhcmV0cmEgc2NlbGVyaXNxdWUsIG1ldHVzIG51bGxhIGVsZW1lbnR1bSBuaWJoLCBpZCBzdXNjaXBpdCB0b3J0b3IgdHVycGlzIHF1aXMgdGVsbHVzLiBJbnRlZ2VyIHJ1dHJ1bSBkdWkgc2l0IGFtZXQgbmVxdWUgbGFjaW5pYSByaG9uY3VzLiBNb3JiaSB0b3J0b3IgYXJjdSwgb3JuYXJlIGF0IG51bGxhIGV0LCB2dWxwdXRhdGUgY29uc2VxdWF0IG1hdXJpcy4gTnVuYyB1bHRyaWNpZXMgcHJldGl1bSBkdWkgc2VkIGVnZXN0YXMuIEFlbmVhbiBwdWx2aW5hciBjb21tb2RvIG5lcXVlLCB2aXRhZSBwaGFyZXRyYSBhcmN1IGxvYm9ydGlzIGFjLiBEdWlzIG5vbiBmaW5pYnVzIGRpYW0uIFZlc3RpYnVsdW0gdmVoaWN1bGEgbmlzaSB1dCB1cm5hIGxhb3JlZXQgZGFwaWJ1cy4gUHJvaW4gYWNjdW1zYW4gc2NlbGVyaXNxdWUgbWF1cmlzLCBhIGludGVyZHVtIG1pIGVmZmljaXR1ciB0cmlzdGlxdWUuIFByYWVzZW50IG1hdXJpcyBsZW8sIG9ybmFyZSBuZWMgc2FwaWVuIGV0LCBtYXR0aXMgc3VzY2lwaXQgbGVvLiBQaGFzZWxsdXMgYXQgbmlzbCBsYWN1cy4gQ3JhcyBvcm5hcmUgYWxpcXVhbSBvZGlvIHF1aXMgbG9ib3J0aXMuXHJcblxyXG4iLAogICAgImltYWdlIjogImFzc2V0cy9pbWFnZXMvZGVmYXVsdC5wbmciLAogICAgIml0ZW1zIjogWwogICAgICAiTWF1cmlzIGxhY2luaWEsIHNlbSB1dCB0ZW1wb3Igc29kYWxlcywgbWkgbGVvIHZ1bHB1dGF0ZSBuZXF1ZSwgdXQgY3Vyc3VzIG1hc3NhIHF1YW0gdml0YWUgZHVpLiBWZXN0aWJ1bHVtIG5lYyBlcmF0IHJpc3VzLiBQcmFlc2VudCBncmF2aWRhIGNvbnZhbGxpcyBpbnRlcmR1bS4gSW4gZXQgYXVjdG9yIG9kaW8uIERvbmVjIGJpYmVuZHVtLCBmZWxpcyBhIHBoYXJldHJhIHNjZWxlcmlzcXVlLCBtZXR1cyBudWxsYSBlbGVtZW50dW0gbmliaCwgaWQgc3VzY2lwaXQgdG9ydG9yIHR1cnBpcyBxdWlzIHRlbGx1cy4gSW50ZWdlciBydXRydW0gZHVpIHNpdCBhbWV0IG5lcXVlIGxhY2luaWEgcmhvbmN1cy4gTW9yYmkgdG9ydG9yIGFyY3UsIG9ybmFyZSBhdCBudWxsYSBldCwgdnVscHV0YXRlIGNvbnNlcXVhdCBtYXVyaXMuIE51bmMgdWx0cmljaWVzIHByZXRpdW0gZHVpIHNlZCBlZ2VzdGFzLiBBZW5lYW4gcHVsdmluYXIgY29tbW9kbyBuZXF1ZSwgdml0YWUgcGhhcmV0cmEgYXJjdSBsb2JvcnRpcyBhYy4gRHVpcyBub24gZmluaWJ1cyBkaWFtLiBWZXN0aWJ1bHVtIHZlaGljdWxhIG5pc2kgdXQgdXJuYSBsYW9yZWV0IGRhcGlidXMuIFByb2luIGFjY3Vtc2FuIHNjZWxlcmlzcXVlIG1hdXJpcywgYSBpbnRlcmR1bSBtaSBlZmZpY2l0dXIgdHJpc3RpcXVlLiBQcmFlc2VudCBtYXVyaXMgbGVvLCBvcm5hcmUgbmVjIHNhcGllbiBldCwgbWF0dGlzIHN1c2NpcGl0IGxlby4gUGhhc2VsbHVzIGF0IG5pc2wgbGFjdXMuIENyYXMgb3JuYXJlIGFsaXF1YW0gb2RpbyBxdWlzIGxvYm9ydGlzLlxyXG5cclxuIgogICAgXSwKICAgICJ1cmwiOiAiaHR0cHM6Ly93d3cubGlwc3VtLmNvbS8iCiAgfSwKICB7CiAgICAiVGl0bGUiOiAiR2VuZXJhdGVkIDUgcGFyYWdyYXBocywgNDQ2IHdvcmRzLCAzMDE1IGJ5dGVzIG9mIExvcmVtIElwc3VtIiwKICAgICJEZXNjcmlwdGlvbiI6ICJNYXVyaXMgbGFjaW5pc2RhYSwgc2VtIHV0IHRlbXBvciAiLAogICAgInRleHQiOiAiTWF1cmlzIGxhY2luaWEsIHNlbSB1dCB0ZW1wb3Igc29kYWxlcywgbWkgbGVvIHZ1bHB1dGF0ZSBuZXF1ZSwgdXQgY3Vyc3VzIG1hc3NhIHF1YW0gdml0YWUgZHVpLiBWZXN0aWJ1bHVtIG5lYyBlcmF0IHJpc3VzLiBQcmFlc2VudCBncmF2aWRhIGNvbnZhbGxpcyBpbnRlcmR1bS4gSW4gZXQgYXVjdG9yIG9kaW8uIERvbmVjIGJpYmVuZHVtLCBmZWxpcyBhIHBoYXJldHJhIHNjZWxlcmlzcXVlLCBtZXR1cyBudWxsYSBlbGVtZW50dW0gbmliaCwgaWQgc3VzY2lwaXQgdG9ydG9yIHR1cnBpcyBxdWlzIHRlbGx1cy4gSW50ZWdlciBydXRydW0gZHVpIHNpdCBhbWV0IG5lcXVlIGxhY2luaWEgcmhvbmN1cy4gTW9yYmkgdG9ydG9yIGFyY3UsIG9ybmFyZSBhdCBudWxsYSBldCwgdnVscHV0YXRlIGNvbnNlcXVhdCBtYXVyaXMuIE51bmMgdWx0cmljaWVzIHByZXRpdW0gZHVpIHNlZCBlZ2VzdGFzLiBBZW5lYW4gcHVsdmluYXIgY29tbW9kbyBuZXF1ZSwgdml0YWUgcGhhcmV0cmEgYXJjdSBsb2JvcnRpcyBhYy4gRHVpcyBub24gZmluaWJ1cyBkaWFtLiBWZXN0aWJ1bHVtIHZlaGljdWxhIG5pc2kgdXQgdXJuYSBsYW9yZWV0IGRhcGlidXMuIFByb2luIGFjY3Vtc2FuIHNjZWxlcmlzcXVlIG1hdXJpcywgYSBpbnRlcmR1bSBtaSBlZmZpY2l0dXIgdHJpc3RpcXVlLiBQcmFlc2VudCBtYXVyaXMgbGVvLCBvcm5hcmUgbmVjIHNhcGllbiBldCwgbWF0dGlzIHN1c2NpcGl0IGxlby4gUGhhc2VsbHVzIGF0IG5pc2wgbGFjdXMuIENyYXMgb3JuYXJlIGFsaXF1YW0gb2RpbyBxdWlzIGxvYm9ydGlzLlxyXG5cclxuIiwKICAgICJpbWFnZSI6ICJhc3NldHMvaW1hZ2VzL2RlZmF1bHQucG5nIiwKICAgICJpdGVtcyI6IFsKICAgICAgIk1hdXJpcyBsYWNpbmlhLCBzZW0gdXQgdGVtcG9yIHNvZGFsZXMsIG1pIGxlbyB2dWxwdXRhdGUgbmVxdWUsIHV0IGN1cnN1cyBtYXNzYSBxdWFtIHZpdGFlIGR1aS4gVmVzdGlidWx1bSBuZWMgZXJhdCByaXN1cy4gUHJhZXNlbnQgZ3JhdmlkYSBjb252YWxsaXMgaW50ZXJkdW0uIEluIGV0IGF1Y3RvciBvZGlvLiBEb25lYyBiaWJlbmR1bSwgZmVsaXMgYSBwaGFyZXRyYSBzY2VsZXJpc3F1ZSwgbWV0dXMgbnVsbGEgZWxlbWVudHVtIG5pYmgsIGlkIHN1c2NpcGl0IHRvcnRvciB0dXJwaXMgcXVpcyB0ZWxsdXMuIEludGVnZXIgcnV0cnVtIGR1aSBzaXQgYW1ldCBuZXF1ZSBsYWNpbmlhIHJob25jdXMuIE1vcmJpIHRvcnRvciBhcmN1LCBvcm5hcmUgYXQgbnVsbGEgZXQsIHZ1bHB1dGF0ZSBjb25zZXF1YXQgbWF1cmlzLiBOdW5jIHVsdHJpY2llcyBwcmV0aXVtIGR1aSBzZWQgZWdlc3Rhcy4gQWVuZWFuIHB1bHZpbmFyIGNvbW1vZG8gbmVxdWUsIHZpdGFlIHBoYXJldHJhIGFyY3UgbG9ib3J0aXMgYWMuIER1aXMgbm9uIGZpbmlidXMgZGlhbS4gVmVzdGlidWx1bSB2ZWhpY3VsYSBuaXNpIHV0IHVybmEgbGFvcmVldCBkYXBpYnVzLiBQcm9pbiBhY2N1bXNhbiBzY2VsZXJpc3F1ZSBtYXVyaXMsIGEgaW50ZXJkdW0gbWkgZWZmaWNpdHVyIHRyaXN0aXF1ZS4gUHJhZXNlbnQgbWF1cmlzIGxlbywgb3JuYXJlIG5lYyBzYXBpZW4gZXQsIG1hdHRpcyBzdXNjaXBpdCBsZW8uIFBoYXNlbGx1cyBhdCBuaXNsIGxhY3VzLiBDcmFzIG9ybmFyZSBhbGlxdWFtIG9kaW8gcXVpcyBsb2JvcnRpcy5cclxuXHJcbiIKICAgIF0sCiAgICAidXJsIjogImh0dHBzOi8vd3d3LmxpcHN1bS5jb20vIgogIH0KXQ==";
            byte[] data = Convert.FromBase64String(sample_file);
            string decodedString = Encoding.UTF8.GetString(data);
            File.WriteAllText(folder_path + "\\src\\input.json", decodedString);
            return;
        }

        /// <summary>
        /// Function to generate sample settings.json
        /// </summary>
        public void GenerateSampleSettings()
        {
            if (!confirmation("Overwrite settings.json?")) { return; }
            string folder_path = settings.getSetting("project_path");
            string sample_file = "WwogICAgewogICAgICAicHJldmlld19zaG93X3BpY3R1cmUiOiB0cnVlLAogICAgICAicHJldmlld19zaG93X3RpdGxlIjogdHJ1ZSwKICAgICAgInByZXZpZXdfc2hvd19kZXNjcmlwdGlvbiI6IHRydWUsCiAgICAgICJwcmV2aWV3X3Nob3dfdGV4dCI6IHRydWUsCiAgICAgICJwcmV2aWV3X3Nob3dfaXRlbXMiOiB0cnVlLAogICAgICAicHJldmlld19zaG93X3VybCI6IGZhbHNlLAogICAgICAicHJldmlld19zaG93X2FsYnVtIjogZmFsc2UsCiAgICAgICJwcmV2aWV3X3Nob3dfdGFncyI6IGZhbHNlLAogICAgICAicHJldmlld19kZXNjcmlwdGlvbl90ZXh0X2xlbmd0aCIgOiAxNSwKICAgICAgInByZXZpZXdfdGV4dF9sZW5ndGgiOiAxNSwKICAgICAgInByZXZpZXdfaXRlbV90ZXh0X2xlbmd0aCI6IDUsCiAgICAgICJwcmV2aWV3X2l0ZW1zX2NvdW50IjogMiwKICAgICAgInByZXZpZXdfbnVtYmVyX29mX2NvbHVtbnMiOiA0CiAgICB9Cl0=";
            byte[] data = Convert.FromBase64String(sample_file);
            string decodedString = Encoding.UTF8.GetString(data);
            File.WriteAllText(folder_path + "\\src\\settings.json", decodedString);
            return;
        }


        /// <summary>
        /// Simple confirmation messagebox
        /// </summary>
        /// <param name="message">The message to display</param>
        /// <returns></returns>
        private bool confirmation(string message)
        {
            DialogResult dr = MessageBox.Show(message, "Are you sure?", MessageBoxButtons.YesNoCancel,
        MessageBoxIcon.Information);

            if (dr == DialogResult.Yes)
            {
                return true;
            }

            return false;
        }
    }
}
